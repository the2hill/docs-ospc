.. _get-all-backup-configurations-for-a-user:

List all backup configurations for the user
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. code::

    GET /v1.0/{tenant_id}/backup-configuration

This operation lists all backup configurations for the current user.

This table shows the possible response codes for this operation:

+--------------------------+-------------------------+------------------------+
|Response Code             |Name                     |Description             |
+==========================+=========================+========================+
|200                       |OK                       |The request succeeded.  |
+--------------------------+-------------------------+------------------------+
|400                       |Bad Request              |There were one or more  |
|                          |                         |errors in the request.  |
+--------------------------+-------------------------+------------------------+
|401                       |Unauthorized             |The supplied token was  |
|                          |                         |not authorized to access|
|                          |                         |the resources. Either it|
|                          |                         |is expired or invalid.  |
+--------------------------+-------------------------+------------------------+
|403                       |Forbidden                |Access to the requested |
|                          |                         |resource was denied.    |
+--------------------------+-------------------------+------------------------+
|404                       |Not Found                |The backend services did|
|                          |                         |not find anything       |
|                          |                         |matching the request    |
|                          |                         |URI.                    |
+--------------------------+-------------------------+------------------------+
|500                       |Instance Fault           |This is a generic server|
|                          |                         |error. The message      |
|                          |                         |contains the reason for |
|                          |                         |the error. This error   |
|                          |                         |could wrap several error|
|                          |                         |messages.               |
+--------------------------+-------------------------+------------------------+
|503                       |Service Unavailable      |This is a generic server|
|                          |                         |error. The message      |
|                          |                         |contains the reason for |
|                          |                         |the error. This error   |
|                          |                         |could wrap several error|
|                          |                         |messages.               |
+--------------------------+-------------------------+------------------------+

Request
-------

This table shows the URI parameters for the request:

+--------------------------+-------------------------+------------------------+
|Name                      |Type                     |Description             |
+==========================+=========================+========================+
|{tenant_id}               |String                   |The unique identifier of|
|                          |                         |the tenant or account.  |
+--------------------------+-------------------------+------------------------+

This operation does not accept a request body.

Response
--------

This table shows the body parameters for the response:

+---------------------------------+----------------------+--------------------+
|Name                             |Type                  |Description         |
+=================================+======================+====================+
|**BackupConfigurationId**        |String                |Autogenerated ID    |
|                                 |                      |that uniquely       |
|                                 |                      |identifies a backup |
|                                 |                      |configuration. This |
|                                 |                      |ID is required on   |
|                                 |                      |subsequent          |
|                                 |                      |GET/UPDATE/DELETE   |
|                                 |                      |calls.              |
+---------------------------------+----------------------+--------------------+
|**MachineAgentId**               |String                |ID that uniquely    |
|                                 |                      |identifies a Cloud  |
|                                 |                      |Backup agent.       |
+---------------------------------+----------------------+--------------------+
|**MachineName**                  |String                |Name of the Cloud   |
|                                 |                      |Server where the    |
|                                 |                      |Cloud Backup agent  |
|                                 |                      |resides.            |
+---------------------------------+----------------------+--------------------+
|**Flavor**                       |String                |RaxCloudServer - for|
|                                 |                      |Rackspace Cloud     |
|                                 |                      |Servers.            |
+---------------------------------+----------------------+--------------------+
|**IsEncrypted**                  |String                |Indicates if backups|
|                                 |                      |are encrypted. Valid|
|                                 |                      |values are true or  |
|                                 |                      |false.              |
+---------------------------------+----------------------+--------------------+
|**BackupConfigurationName**      |String                |The name of the     |
|                                 |                      |backup              |
|                                 |                      |configuration. The  |
|                                 |                      |configuration       |
|                                 |                      |typically has the   |
|                                 |                      |backup schedule,    |
|                                 |                      |files to backup, and|
|                                 |                      |notification        |
|                                 |                      |options.            |
+---------------------------------+----------------------+--------------------+
|**IsActive**                     |String                |Indicates if a      |
|                                 |                      |backup configuration|
|                                 |                      |is active. Valid    |
|                                 |                      |values are true or  |
|                                 |                      |false.              |
+---------------------------------+----------------------+--------------------+
|**IsDeleted**                    |String                |Indicates if the    |
|                                 |                      |backup configuration|
|                                 |                      |is deleted. Valid   |
|                                 |                      |values are true or  |
|                                 |                      |false.              |
+---------------------------------+----------------------+--------------------+
|**VersionRetention**             |String                |Indicates how many  |
|                                 |                      |days backup         |
|                                 |                      |revisions are       |
|                                 |                      |maintained. Valid   |
|                                 |                      |values are 0, 30 ,  |
|                                 |                      |and 60. 0 means     |
|                                 |                      |indefinite.         |
+---------------------------------+----------------------+--------------------+
|**BackupConfigurationScheduleId**|String                |Uniquely identifies |
|                                 |                      |the schedule that is|
|                                 |                      |associated with this|
|                                 |                      |configuration.      |
+---------------------------------+----------------------+--------------------+
|**MissedBackupActionId**         |String                |Specifies when to   |
|                                 |                      |send notification.  |
|                                 |                      |Valid values are as |
|                                 |                      |follows: 1 that     |
|                                 |                      |indicates that      |
|                                 |                      |notifications are   |
|                                 |                      |sent as soon as     |
|                                 |                      |possible, or 2 that |
|                                 |                      |indicates that      |
|                                 |                      |notifications are   |
|                                 |                      |sent at the next    |
|                                 |                      |scheduled time.     |
+---------------------------------+----------------------+--------------------+
|**Frequency**                    |String                |Frequency of backup |
|                                 |                      |schedule. Valid     |
|                                 |                      |values are          |
|                                 |                      |"Manually",         |
|                                 |                      |"Hourly", "Daily",  |
|                                 |                      |and "Weekly".       |
+---------------------------------+----------------------+--------------------+
|**StartTimeHour**                |String                |Indicates the hour  |
|                                 |                      |when the backup     |
|                                 |                      |runs. Valid values  |
|                                 |                      |are 1 through 12, as|
|                                 |                      |well as null when   |
|                                 |                      |the Frequency value |
|                                 |                      |is "Manually" or    |
|                                 |                      |"Hourly".           |
+---------------------------------+----------------------+--------------------+
|**StartTimeMinute**              |String                |Indicates the minute|
|                                 |                      |when the backup     |
|                                 |                      |runs. Valid values  |
|                                 |                      |are 0 through 59, as|
|                                 |                      |well as null when   |
|                                 |                      |the Frequency value |
|                                 |                      |is "Manually" or    |
|                                 |                      |"Hourly".           |
+---------------------------------+----------------------+--------------------+
|**StartTimeAmPm**                |String                |Indicates AM or PM. |
|                                 |                      |Valid values are    |
|                                 |                      |"AM" or "PM", as    |
|                                 |                      |well as null when   |
|                                 |                      |the Frequency value |
|                                 |                      |is "Manually" or    |
|                                 |                      |"Hourly".           |
+---------------------------------+----------------------+--------------------+
|**DayOfWeekId**                  |String                |Indicates the day of|
|                                 |                      |the week. Valid     |
|                                 |                      |values are 0 through|
|                                 |                      |6, with 0           |
|                                 |                      |representing Sunday |
|                                 |                      |and 6 representing  |
|                                 |                      |Saturday. null is   |
|                                 |                      |also a valid value  |
|                                 |                      |when the Frequency  |
|                                 |                      |value is "Manually",|
|                                 |                      |"Hourly", or        |
|                                 |                      |"Daily".            |
+---------------------------------+----------------------+--------------------+
|**HourInterval**                 |String                |Indicates the hour. |
|                                 |                      |Valid values are 1  |
|                                 |                      |through 23, as well |
|                                 |                      |as null when the    |
|                                 |                      |Frequency value is  |
|                                 |                      |"Manually" ,"Daily",|
|                                 |                      |or "Weekly".        |
+---------------------------------+----------------------+--------------------+
|**TimeZoneId**                   |String                |Specifies the time  |
|                                 |                      |zone where the      |
|                                 |                      |backup runs, for    |
|                                 |                      |example "Eastern    |
|                                 |                      |Standard Time".     |
+---------------------------------+----------------------+--------------------+
|**NextScheduledRunTime**         |String                |Specifies the next  |
|                                 |                      |scheduled run time  |
|                                 |                      |for a backup.       |
+---------------------------------+----------------------+--------------------+
|**LastRunTime**                  |String                |Indicates the last  |
|                                 |                      |time a backup ran.  |
+---------------------------------+----------------------+--------------------+
|**LastRunBackupReportId**        |String                |If the backup ran   |
|                                 |                      |successfully last   |
|                                 |                      |time, indicates the |
|                                 |                      |ID of the backup    |
|                                 |                      |report.             |
+---------------------------------+----------------------+--------------------+
|**BackupState**                  |String                |Indicates the last  |
|                                 |                      |state of the backup.|
|                                 |                      |These states can be |
|                                 |                      |"InProgress",       |
|                                 |                      |"Skipped", "Queued",|
|                                 |                      |or "Not Available". |
+---------------------------------+----------------------+--------------------+
|**NotifyRecipients**             |String                |Indicates the email |
|                                 |                      |address to notify in|
|                                 |                      |case of backup      |
|                                 |                      |success or failure. |
+---------------------------------+----------------------+--------------------+
|**NotifySuccess**                |String                |Indicates if emails |
|                                 |                      |are sent after a    |
|                                 |                      |successful backup.  |
|                                 |                      |Valid values are    |
|                                 |                      |true or false.      |
+---------------------------------+----------------------+--------------------+
|**NotifyFailure**                |String                |Indicates if emails |
|                                 |                      |are sent after a    |
|                                 |                      |failed backup. Valid|
|                                 |                      |values are true or  |
|                                 |                      |false.              |
+---------------------------------+----------------------+--------------------+
|**Inclusions**                   |String                |Indicates the list  |
|                                 |                      |of files and folders|
|                                 |                      |to back up.         |
+---------------------------------+----------------------+--------------------+
|**Exclusions**                   |String                |Indicates the list  |
|                                 |                      |of files and folders|
|                                 |                      |not to back up.     |
+---------------------------------+----------------------+--------------------+

**Example: List all backup configurations for a user JSON response**

.. code::

      [
        {
        "BackupConfigurationId": 100850,
        "MachineAgentId": 96674,
        "MachineName": "Web Server",
        "Flavor": "RaxCloudServer",
        "IsEncrypted": false,
        "BackupConfigurationName": "Manual Website Backup",
        "IsActive": true,
        "IsDeleted": false,
        "VersionRetention": 60,
        "BackupConfigurationScheduleId": 98017,
        "MissedBackupActionId": 2,
        "Frequency": "Manually",
        "StartTimeHour": null,
        "StartTimeMinute": null,
        "StartTimeAmPm": "",
        "DayOfWeekId": null,
        "HourInterval": null,
        "TimeZoneId": "Eastern Standard Time",
        "NextScheduledRunTime": null,
        "LastRunTime": "\/Date(1343226053000)\/",
        "LastRunBackupReportId": 80071,
        "NotifyRecipients": "user@rackspace.com",
        "NotifySuccess": false,
        "NotifyFailure": true,
        "Inclusions": [
         {
           "FilePath": "/web/",
           "ParentId": 100850,
           "FileItemType": "Folder",
           "FileId": 2947
         }
       ],
        "Exclusions": [
         {
           "FilePath": "/web/cache/",
           "ParentId": 100850,
           "FileItemType": "Folder",
           "FileId": 2948
         }
       ]
         },
        {
        "BackupConfigurationId": 100928,
        "MachineAgentId": 96685,
        "MachineName": "Database Server",
        "Flavor": "RaxCloudServer",
        "IsEncrypted": false,
        "BackupConfigurationName": "Manual DB Backup",
        "IsActive": true,
        "IsDeleted": false,
        "VersionRetention": 60,
        "BackupConfigurationScheduleId": 98019,
        "MissedBackupActionId": 2,
        "Frequency": "Manually",
        "StartTimeHour": null,
        "StartTimeMinute": null,
        "StartTimeAmPm": "",
        "DayOfWeekId": null,
        "HourInterval": null,
        "TimeZoneId": "Eastern Standard Time",
        "NextScheduledRunTime": null,
        "LastRunTime": "\/Date(1343226074000)\/",
        "LastRunBackupReportId": 80116,
        "NotifyRecipients": "user@rackspace.com",
        "NotifySuccess": false,
        "NotifyFailure": true,
        "Inclusions": [
         {
           "FilePath": "/db/dumps/",
           "ParentId": 100928,
           "FileItemType": "Folder",
           "FileId": 3568
         }
       ],
        "Exclusions": [
         {
           "FilePath": "/db/dumps/tmp/",
           "ParentId": 100928,
           "FileItemType": "Folder",
           "FileId": 3570
         }
        ]
       }
     ]
