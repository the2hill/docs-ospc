.. _cdn-get-a-service:

Retrieve a service
~~~~~~~~~~~~~~~~~~

.. code::

    GET /v1.0/{project_id}/services/{service_id}

This operation retrieves a service.

The following table shows the possible response codes for this operation

+--------------------------+-------------------------+------------------------+
|Response Code             |Name                     |Description             |
+==========================+=========================+========================+
|200                       |OK                       |Success.                |
+--------------------------+-------------------------+------------------------+

Request
-------

The following table shows the URI parameters for the request.

+-------------+-------------+-------------------------------------------------+
|Name         |Type         |Description                                      |
+=============+=============+=================================================+
|{project_id} |String       |The project ID for the user. If you do not set   |
|             |             |the ``X-Project-Id header`` in the request, use  |
|             |             |``project_id`` in the URI. For example: ``GET    |
|             |             |https://global.cdn.api.rackspacecloud.com/v1.0/  |
|             |             |{project_id}``                                   |
+-------------+-------------+-------------------------------------------------+
|{service_id} |String       |Specifies the service ID that represents         |
|             |             |distributed content. The value is a UUID, such as|
|             |             |96737ae3-cfc1-4c72-be88-5d0e7cc9a3f0, that is    |
|             |             |generated by the server.                         |
+-------------+-------------+-------------------------------------------------+

This operation does not accept a request body.

**Example: Retrieve a service HTTP request**

.. code::

   GET /v1.0/11111/services/6592bb63-e320-4dba-931d-31727e394aa0 HTTP/1.1
   Host: global.cdn.api.rackspacecloud.com
   X-Auth-Token: 0f6e9f63600142f0a970911583522217
   Accept: application/json
   Content-type: application/json

Response
--------

The following table shows the body parameters for the response.

+----------------------+-------+--------------------------------------------------------------------------------------------+
|Name                  |Type   |Description                                                                                 |
+======================+=======+============================================================================================+
|\ **name**            |String |Specifies the name of the service.                                                          |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **id**              |String |Specifies the service ID that represents distributed content. The value is a UUID, such as  |
|                      |       |96737ae3-cfc1-4c72-be88-5d0e7cc9a3f0, that is generated by the server.                      |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **project_id**      |String |Specifies the unique identifier for the user. (This is your actual account ID that is       |
|                      |       |returned as part of the authentication service response.)                                   |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **name**            |String |Specifies the name of the service.                                                          |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **domains**         |String |Specifies a list of domains used by users to access their website.                          |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ domains.\           |String |Specifies the domain used to access the assets on their website, for which a CNAME is given |
|**domain**            |       |to the CDN provider.                                                                        |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|domains.\ **protocol**|String |Specifies the protocol used to access the assets on this domain. Only ``http`` or ``https`` |
|                      |       |are currently allowed. ``protocol`` defaults to ``http``.                                   |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|domains.\             |String |Specifies the type of the certificate.                                                      |
|**certificate**       |       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|domains.\             |String |Specifies the certificate status, such as ``deployed``.                                     |
|**certificate_status**|       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **origins**         |String |Specifies a list of origin domains or IP addresses where the original assets are stored.    |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ origins.\           |String |Specifies the URL or IP address from which to pull origin content.                          |
|**origin**            |       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|origins.\ **port**    |String |Specifies the port used to access the origin. The default is port 80. Note: Rackspace CDN   |
|                      |       |cannot be used with custom ports. Services are required to run on HTTP (80) and HTTPS (443) |
|                      |       |for the origin servers.                                                                     |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|origins.\ **ssl**     |String |Uses HTTPS to access the origin. The default is false.                                      |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|origins.\ **rules**   |String |Specifies a collection of rules that define the conditions when this origin should be       |
|                      |       |accessed. If there is more than one origin, the ``rules`` parameter is required.            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|origins.rules.\       |String |Specifies the name of this rule.                                                            |
|**name**              |       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|origins.rules.\       |String |Specifies the request URL that this rule should match for this origin to be used. Regex is  |
|**request_url**       |       |supported. Note: The regex is a Perl Compatible Regex (PCRE). For more information about    |
|                      |       |PRCE, see `Regular Expressions (Perl-Compatible)                                            |
|                      |       |<http://php.net/manual/en/book.pcre.php>`__.                                                |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|origins.\             |String |Specifies the type for the host header. Valid values are ``domain``, ``origin``, and        |
|**hostheadertype**    |       |``custom``.                                                                                 |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **caching**         |String |Specifies the TTL rules for the assets under this service. Supports wildcards for fine-     |
|                      |       |grained control.                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|caching.\ **name**    |String |Specifies the name of this caching rule. Note: 'default' is a reserved name used for the    |
|                      |       |default TTL setting.                                                                        |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|caching.\ **ttl**     |String |Specifies the TTL to apply.                                                                 |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|caching.\ **rules**   |String |Specifies a collection of rules that determine if this TTL should be applied to an asset.   |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|caching.rules.\       |String |Specifies the name of this rule.                                                            |
|**name**              |       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|caching.rules.\       |String |Specifies the request URL that this rule should match for this TTL to be used. Regex is     |
|**request_url**       |       |supported. Note: The regex is a Perl Compatible Regex (PCRE). For more information about    |
|                      |       |PRCE, see `Regular Expressions (Perl-Compatible)                                            |
|                      |       |<http://php.net/manual/en/book.pcre.php>`__.                                                |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **restrictions**    |String |Specifies the restrictions that define who can access assets (content from the CDN cache).  |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|restrictions.\        |String |Specifies the name of this restriction.                                                     |
|**name**              |       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|restrictions.\        |String |Specifies a collection of rules that determine if this restriction should be applied to an  |
|**rules**             |       |asset.                                                                                      |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|restrictions.rules.\  |String |Specifies the name of this rule.                                                            |
|**name**              |       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|restrictions.rules.\  |String |Specifies the HTTP host from which requests must come.                                      |
|**referrer**          |       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **log_delivery**    |String |Specifies whether log delivery to a Cloud Files container is enabled or disabled. For more  |
|                      |       |information about logs, see the ``log_delivery`` parameter description in :ref:`Create  a   |
|                      |       |service <cdn-create-a-service>`.                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|log_delivery.\        |String |Specifies whether log delivery is enabled (``true``) or disabled (``false``).               |
|**enabled**           |       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **flavor_id**       |String |Specifies the CDN provider flavor ID to use. For a list of flavors, see the operation to    |
|                      |       |list the available flavors.                                                                 |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **status**          |String |Specifies the current status of the service.                                                |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|status.\              |String |Specifies that the service is currently being created and deployed.                         |
|**create_in_progress**|       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|status.\ **deployed** |String |Specifies that the service has been deployed and is ready to use.                           |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|status.\              |String |Specifies that the service is currently being updated.                                      |
|**update_in_progress**|       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|status.\              |String |Specifies that the service is currently being deleted.                                      |
|**delete_in_progress**|       |                                                                                            |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|status.\ **failed**   |String |Specifies that the previous operation on the service failed to create, deploy, update, or   |
|                      |       |delete. Looks for the errors[] for details.                                                 |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **errors**          |String |Specifies the list of errors that occurred during the previous service action.              |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|errors.\ **message**  |String |Specifies an error message detailing why there is an error.                                 |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|\ **links**           |String |Specifies the self-navigating JSON document paths.                                          |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|links.\ **href**      |String |Specifies the location to access this resource.                                             |
+----------------------+-------+--------------------------------------------------------------------------------------------+
|links.\ **rel**       |String |Specifies how the href link provided is related to this resource_url.                       |
+----------------------+-------+--------------------------------------------------------------------------------------------+

**Example: Retrieve a service HTTP and JSON response**

.. code::

   HTTP/1.1 200 OK
   Content-Type: application/json

.. code::

   {
	"name": "http",
	"id": "6592bb63-e320-4dba-931d-31727e394aa0",
	"project_id": "11111",
	"domains": [{
		"domain": "https.scdn3.secure.raxcdn.com",
		"protocol": "https",
		"certificate": "shared",
		"certificate_status": "deployed"
	}],
	"origins": [{
		"origin": "origin.com",
		"port": 443,
		"ssl": true,
		"rules": [{
			"name": "Default Origin",
			"request_url": "/*"
		}],
		"hostheadertype": "domain"
	}],
	"restrictions": [],
	"caching": [{
		"name": "default",
		"ttl": 86400,
		"rules": [{
			"name": "default",
			"request_url": "/*"
		}]
	}],
	"flavor_id": "cdn",
	"log_delivery": {
		"enabled": false
	},
	"status": "deployed",
	"errors": [],
	"links": [{
		"href": "https://global.cdn.api.rackspacecloud.com/v1.0/11111/services/6592bb63-e320-4dba-931d-31727e394aa0",
		"rel": "self"
	}, {
		"href": "https://global.cdn.api.rackspacecloud.com/v1.0/11111/flavors/cdn",
		"rel": "flavor"
	}, {
		"href": "https.scdn3.secure.raxcdn.com",
		"rel": "access_url"
	}]
   }
